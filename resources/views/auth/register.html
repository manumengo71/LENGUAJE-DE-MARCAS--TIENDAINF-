<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REGISTER PAGE</title>
    <link rel="stylesheet" href="../../css/auth.css">
</head>

<body>
    <div class="container">
        <h1>Registrarse</h1>
        <form id="registration-form">
            <div class="divs-contenedores">
                <label for="username">Nombre de usuario</label>
                <input type="text" id="username" name="username" placeholder="User" required>
            </div>
            <div class="divs-contenedores">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="User@gmail.com" required>
            </div>
            <div class="divs-contenedores">
                <label for="date">Cumpleaños</label>
                <input type="date" id="date" name="date" placeholder="" required>
            </div>
            <div class="divs-contenedores">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" placeholder="••••••••••••••••" required>
            </div>
            <div class="divs-contenedores">
                <label for="confirm-password">Confirmar contraseña</label>
                <input type="password" id="confirm-password" name="confirm-password" placeholder="••••••••••••••••"
                    required>
            </div>
            <div class="divs-contenedores">
                <label for="rol">¿Que eres?</label>
                <select id="rol" name="rol" required>
                    <option value="cliente">Cliente</option>
                    <option value="empleado">Empleado</option>
                    <option value="inma">Inma maestra 11/10</option>
                </select>
            </div>
            <div class="">
                <div class="checkbox-group">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">Acepto los <a href="#">Términos y Condiciones</a></label>
                </div>
                <br />
            </div>
            <div class="divs-contenedores">
                <button type="submit">Registrarse</button>
            </div>
            <div class="auth-link auth-link-iniciosesion">
                <label for="register-link"><a href="login.html">Inicia sesión</a></label>
            </div>
        </form>
    </div>
</body>

<!-- SCRIPT GUARDAR DATOS --
--
-->

<script>

    var registrationForm = document.getElementById('registration-form');


    registrationForm.addEventListener('submit', function (event) {
        event.preventDefault();

        var username = document.getElementById('username').value;
        var email = document.getElementById('email').value;
        var date = document.getElementById('date').value;
        var password = document.getElementById('password').value;
        var confirm = document.getElementById('confirm-password').value;
        var rol = document.getElementById('rol').value;

        if(password === confirm){
            var user = {
            username: username,
            email: email,
            date: date,
            password: password,
            rol: rol
        };

        localStorage.setItem('userData', JSON.stringify(user));

        console.log(user);

        localStorage.setItem('user', JSON.stringify(user));


        window.location.href = 'login.html';

        }else{
            alert('La contraseña y la confirmación de contraseña no coinciden. Inténtelo de nuevo');
        }
    });
</script>

</html>