<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alta Empleado</title>
</head>

<body>
    <div>
        <h1>Alta Empleado</h1>
        <a href="./altas.html">
            <p>Volver Atras</p>
        </a>
    </div>
    <div>
        <form method="POST" action="" id="empleadoForm">
            <legend>Alta Empleado</legend>
            <label>Id Empleado</label>
            <input type="number" id="idEmpleado" min="1" required />
            <br />
            <label>Nombre</label>
            <input type="text" id="nombre" maxlength="30" pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+" required />
            <br />
            <label>Apellidos</label>
            <input type="text" id="apellidos" maxlength="150" pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+" required />
            <br />
            <label>Dirección</label>
            <input type="text" id="direccion" maxlength="255" required />
            <br />
            <label>DNI</label>
            <input type="text" id="dni" pattern="^(?:(?:[0-9]{8}[-]?|[XYZxyz][0-9]{7}[-]?)[A-Za-z]|[0-9]{8}[A-Za-z]?)$"
                required />
            <br />
            <label>Teléfono</label>
            <input type="tel" id="telefono" pattern="[0-9]{3}-[0-9]{3}-[0-9]{3}" required />
            <br />
            <label>Número Seguridad Social</label>
            <input type="text" id="numeroSegSocial" min="1" required />
            <br />
            <label>Tipo de Empleado</label>
            <select id="tipoEmpleado">
                <option>Técnico</option>
                <option>Dependiente</option>
            </select>
            <br />
            <label>Es Jefe</label>
            <select id="esJefe">
                <option>Si</option>
                <option>No</option>
            </select>
            <br />
            <input type="submit" value="Enviar" onclick="enviarFormulario(event)" />
            <input type="button" value="Borrar" />
        </form>
    </div>
</body>

<!-- VALIDACIÓN -->

<script>
    function enviarFormulario(event) {


        const idEmpleado = parseInt(document.getElementById('idEmpleado').value);
        const nombre = document.getElementById('nombre').value;
        const apellidos = document.getElementById('apellidos').value;
        const direccion = document.getElementById('direccion').value;
        const dni = document.getElementById('dni').value;
        const telefono = document.getElementById('telefono').value;
        const numeroSegSocial = parseInt(document.getElementById('numeroSegSocial').value);


        if (idEmpleado < 1) {
            alert('El campo Id Empleado debe ser mayor o igual a 1.');
            return;
        }

        if (nombre.length > 30 || !/^[A-Za-záéíóúÁÉÍÓÚñÑ\s]+$/.test(nombre)) {
            alert('El nombre debe tener como máximo 30 caracteres y no puede contener números.');
            return;
        }

        if (apellidos.length > 150 || !/^[A-Za-záéíóúÁÉÍÓÚñÑ\s]+$/.test(apellidos)) {
            alert('Los apellidos deben tener como máximo 150 caracteres y no pueden contener números.');
            return;
        }

        if (direccion.length > 255) {
            alert('La dirección no puede tener más de 255 caracteres.');
            return;
        }

        if (!/^(\d{8}[-]?|[XYZxyz]\d{7}[-]?)[A-Za-z]$|^\d{8}[A-Za-z]?$/.test(dni)) {
            alert('El DNI no tiene un formato válido.');
            return;
        }

        if (!/^\d{2}-\d{10}$/.test(numeroSegSocial)) {
            alert('El número de Seguridad Social no tiene un formato válido. Debe tener el formato XX-XXXXXXXXXX.');
            return;
        }

        if (!/^[0-9]{3}-[0-9]{3}-[0-9]{3}$/.test(telefono)) {
            alert('El teléfono debe tener el formato XXX-XXX-XXX.');
            return;
        }


    }

</script>

</html>